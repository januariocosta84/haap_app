{% extends "core/base.html" %}

{% block content %}
<div class="container-fluid mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>ðŸ‘¥ Jestaun Utilizador</h2>
    <a href="{% url 'core:register_user' %}" class="btn btn-primary">
      âž• Kria Utilizador Foun
    </a>
  </div>

  <!-- Parents -->
  <div class="card my-3">
    <div class="card-header bg-primary text-white">Parentes</div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th><th>Naran</th><th>Telefone</th>
          </tr>
        </thead>
        <tbody>
          {% for parent in parents %}
          <tr>
            <td>{{ parent.id }}</td>
            <td>{{ parent.first_name }} {{ parent.last_name }}</td>
            <td>{{ parent.whatsapp_number }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="3">No parents found</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Teachers -->
  <div class="card my-3">
    <div class="card-header bg-success text-white">Formadores</div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th><th>Naran</th><th>Telefone</th>
          </tr>
        </thead>
        <tbody>
          {% for teacher in teachers %}
          <tr>
            <td>{{ teacher.id }}</td>
            <td>{{ teacher.first_name }} {{ teacher.last_name }}</td>
            <td>{{ teacher.whatsapp_number }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="3">No teachers found</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Analysts -->
  <div class="card my-3">
    <div class="card-header bg-warning">Analistas Munisipal</div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th><th>Naran</th><th>Telefone</th><th>Munisipal</th>
          </tr>
        </thead>
        <tbody>
          {% for analyst in analysts %}
          <tr>
            <td>{{ analyst.id }}</td>
            <td>{{ analyst.first_name }} {{ analyst.last_name }}</td>
            <td>{{ analyst.whatsapp_number }}</td>
            <td>{{ analyst.municipality.name }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="3">No analysts found</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <!-- Admins -->
  <div class="card my-3">
    <div class="card-header bg-danger text-white">Admins</div>
    <div class="card-body">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>ID</th><th>Naran</th><th>Funsaun</th>
          </tr>
        </thead>
        <tbody>
          {% for admin in admins %}
          <tr>
            <td>{{ admin.id }}</td>
            <td>{{ admin.first_name }} {{ admin.last_name }}</td>
            <td>{{ admin.get_role_display }}</td>
          </tr>
          {% empty %}
          <tr><td colspan="3">No admins found</td></tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</div>
{% endblock %}
